<ng-container *ngIf="item$ | async as item">
    <div class="modal-header">
        <h4 class="modal-title">{{ item.mainDescription }} {{ item.secondaryDescription }}</h4>
        <button type="button" class="modal-close" (click)="bsModalRef.hide()">
            <i class="bi bi-x"></i>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="form">
            <div class="row">
                <div class="col-12">
                    <h3 *ngIf="item.gtin">{{ "GTIN" | translate }}: <span>{{ item.gtin }}</span></h3>
                    <h3 *ngIf="!item.gtin">{{ "CODE" | translate }}: <span>{{ item.code }}</span></h3>
                </div>
                <div class="col-md-4" *ngFor="let image of item.images">
                    <div class="card">
                        <div class="image text-center">
                            <img [src]="image.url | normalizeImage" />
                        </div>
                        <div class="mt-3">
                            <app-fieldrow label="{{'FORMAT_AND_DIMENSIONS' | translate}}">
                                <input type="text" [formControl]="getImageControl('grouper-' + image.id, image)" [readonly]="true" disabled="true" class="form-control" />
                            </app-fieldrow>
                        </div>
                        <div class="text-right">
                            <button class="btn btn-outline-success mr-3" *ngIf="grouperCopy === image.id; else btnDefault"><i class="bi bi-check mr-2"></i> {{ "COPIED_URL" | translate }}</button>
                            <ng-template #btnDefault>
                                <button class="btn btn-outline-primary mr-3" (click)="copyText('grouper-' + image.id, image)">{{"COPY_URL" | translate}}</button>
                            </ng-template>
                            <button class="btn btn-primary" (click)="download(image)"><i class="bi bi-download mr-2"></i> {{"DOWNLOAD" | translate | titlecase}}</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</ng-container>
<app-modal-processing *ngIf="processing"></app-modal-processing>
